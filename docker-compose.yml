services:
  sftp-server:
    build: ./sftp
    container_name: sftp-server
    ports:
      - "22:22"
      - "21000-21010:21000-21010"
    volumes:
      - shared-data:/home/ftpuser/uploads

  node-app:
    build: ./upload-app
    container_name: node-uploader
    volumes:
      - shared-data:/uploads
    depends_on:
      - sftp-server

volumes:
  shared-data:
